{% load humanize %}
{% load static %}

<!--All Hoots-->
    {% for post in posts %}
    <div class="border box-shadow-posts p-3 mb-4 mx-0 mx-md-3" style="border-radius: 10px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);">
    <!-- Single hoot/ Author info-->
        <div class="pb-2" id="">
            <a href="{% url 'profile' post.author.username %}">
                <strong>{{ post.author.first_name }} </strong> <a class="text-muted">@{{ post.author }}</a>
            </a>
            <small class="text-muted">â€¢ {{ post.time|naturaltime }}</small> 

        <!--Hoot edit-->
            {% if user.is_authenticated and user == post.author %}
            <label for="edit"></label>
            <a> <button class="badge badge-light" data-toggle="modal" data-target="#modal_edit_post_{{ post.id }}" style="float: right;">Edit</button>
            </a>
            <!--Bootstrap Modal Pop-up-->
            <div class="modal" id="modal_edit_post_{{ post.id }}" tabindex="-1" role="dialog" aria-labelledby="modal_edit_post_{{ post.id }}_label" aria-hidden="true">
                <div class="modal-dialog" role="document"> 
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title">Edit Hoot</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <textarea rows="5" id="textarea_{{ post.id }}" class="form-control" name="content">{{ post.content }}</textarea>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save Edit</button>
                    </div>
                  </div>
                </div>
              </div>


            {% else %}
            
<!--Todo--> <!--Dots-->
            <span style="float: right;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
                    <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3  1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                </svg>
            </span>
            {% endif %}
        </div>

        <!--Hoot content-->
        <div id="post_contentgroup_{{ post.id }}">
            <p id="post_content_{{ post.id }}" class="mb-2">{{ post.content }}</p>
        </div>
        <!--Submit edit-->
        <div class="text-right"  type="submit" data-id="{{ post.id }}" id="{{ post.id }}">
        </div>
        
        <!--Likes-->
        <div id="post_likes_{{ post.id }}">
            {% if user.is_authenticated %}
            <i id="post_likeicon_{{ post.id }}" data-id="{{ post.id }}" class="btn btn {% if user in post.liked_by.all %}fas{% else %}far{% endif %}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
              </svg></i>
            {% else %}
            <i class="likeicon fa-heart {% if post.likes != 0 %}fas{% else %}far{% endif %}"></i>
            {% endif %}
            <span id="post_likecount_{{ post.id }}"></span>
            &nbsp; &nbsp;
        <!--Comments-->
            <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-text" viewBox="0 0 16 16">
                <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                <path d="M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zm0 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"/>
              </svg></span>
              &nbsp; &nbsp; &nbsp; &nbsp;
        <!--Activity-->
              <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bar-chart" viewBox="0 0 16 16">
                    <path d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5v12h-2V2h2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3z"/>
                  </svg>
              </span>
              &nbsp; &nbsp; &nbsp; &nbsp;
        <!--Share-->
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
              </svg></span>
        </div>
    </div>

    {% empty %}
    <div class="p-3 mb-4 mx-0 mx-md-3" style="text-align: center;">
        All quiet on the Hooting front.
        <p>
       <!--Owl gif-->
          <div class="text-align center"> <img src="{% static 'network/images/owl.gif' %}" alt="owlgif" width="40%"></div>
    </div>


    {% endfor %}