{% load humanize %}
{% load static %}

<!--All Hoots-->
    {% for post in posts %}
    <div class="border box-shadow-posts p-3 mb-4 mx-0 mx-md-3" style="border-radius: 10px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);">
    <!-- Single hoot/ Author info-->
        <div class="pb-2" id="">
            <a href="{% url 'profile' post.author.username %}">
                <strong>{{ post.author.first_name }} </strong> <a class="text-muted">@{{ post.author }}</a>
            </a>
            <small class="text-muted">â€¢ {{ post.time|naturaltime }}</small> 

        <!--Hoot edit-->
        {% if user.is_authenticated and user == post.author %}
        <label for="edit"></label>
        <a><button class="badge badge-light" data-toggle="modal" data-target="#modal_edit_post_{{ post.id }}" style="float: right;">Edit</button>
        </a>
            <!--Bootstrap Modal Pop-up-->
            <div class="modal" id="modal_edit_post_{{ post.id }}" tabindex="-1" role="dialog" aria-labelledby="modal_edit_post_{{ post.id }}_label" aria-hidden="true">
                <div class="modal-dialog"> 
                  <div class="modal-content">
                    <div class="modal-header">
                      <h4 class="modal-title">Edit Hoot</h4>
                      <img class="editowl" src="{% static 'network/images/owl.gif' %}" alt="owlgif" width="8%" style="float: right;" data-dismiss="modal">
                    </div>
                    <!--Modal body-->
                    <div class="modal-body">
                      <textarea rows="4" id="textarea_{{ post.id }}" class="form-control" name="content">{{ post.content }}</textarea>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button id="poop" type="button" class="btn btn-primary">Save Edit</button>
                    </div>
                  </div>
                </div>
              </div>
        {% else %}

          <!--Todo--> 
          <!-- Dots -->
                  <span style="float: right;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
                      <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3  1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                  </svg>
              </span>
              {% endif %}
          </div>
      
        <!--Hoot content-->
        <div id="post_contentgroup_{{ post.id }}">
            <p id="post_content_{{ post.id }}" class="mb-2">{{ post.content }}</p>
        </div>
        
        <!--Likes-->
        <div id="post_likes_{{ post.id }}">
            {% if user.is_authenticated %}
            <i id="post_likeicon_{{ post.id }}" data-id="{{ post.id }}" class="likeicon likeicon-user fa-heart {% if user in post.liked_by.all %}fas{% else %}far{% endif %}"></i>
                {% else %}
                <i class="likeicon fa-heart {% if post.likes != 0 %}fas{% else %}far{% endif %}"></i>
                {% endif %}
                &nbsp;
              <span id="post_likecount_{{ post.id }}" style="font-size: 14px;">{{ post.likes }}</span>
            &nbsp; &nbsp; &nbsp;


        <!--Comments-->
            <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-text" viewBox="0 0 16 16">
                <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                <path d="M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zm0 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"/>
              </svg></span>
              &nbsp; &nbsp; &nbsp; &nbsp;
        <!--Activity-->
              <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bar-chart" viewBox="0 0 16 16">
                    <path d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5v12h-2V2h2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3z"/>
                  </svg>
              </span>
              &nbsp; &nbsp; &nbsp; &nbsp;
        <!--Share-->
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
              </svg></span>

          <!-- Bookmark buttons -->
          <span style="float: right;">
          {% if user.is_authenticated %}
          {% if bookmarks %}
         <!--  Remove from bookmarks button -->
              <form action="{% url 'remove_bookmarks' id=post.id %}" method="POST" class="d-inline-block" style="float: right;">
          {% csrf_token %}
                  <button type="submit" class="btn btn-outline-warning btn-sm"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                    <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                  </svg></button>
              </form> 
          {% else %}
          <!-- Add to Bookmarks button -->
              <form action="{% url 'add_bookmarks' id=post.id %}" method="POST" class="d-inline-block" style="float: right;">
              {% csrf_token %}
                  <button type="submit" class="btn btn  btn-sm"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-bookmark" viewBox="0 0 16 16">
                    <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                  </svg></button>
          {% endif %}
              </form>
          {% endif %}
        
        </div>
    </div>

    {% empty %}
    <div class="p-3 mb-4 mx-0 mx-md-3" style="text-align: center;">
        All quiet on the Hooting front.
        <p>
       <!--Owl gif-->
          <div class="text-align center"> <img src="{% static 'network/images/owl.gif' %}" alt="owlgif" width="40%"></div>
    </div>

<!--Javascript link-->
  <script src="{% static 'network/index.js' %}"></script>
  {% endfor %}